<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.554">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Neha Moopen &amp; Jelle Treep">
<meta name="dcterms.date" content="2023-10-05">

<title>Programming Cafe - Data Visualization</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Programming Cafe</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../agenda.html"> 
<span class="menu-text">Agenda</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../people.html"> 
<span class="menu-text">People</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../posts.html"> 
<span class="menu-text">Posts</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="../../index.xml"> <i class="bi bi-rss" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#slides" id="toc-slides" class="nav-link active" data-scroll-target="#slides">Slides</a></li>
  <li><a href="#exercises" id="toc-exercises" class="nav-link" data-scroll-target="#exercises">Exercises</a>
  <ul class="collapse">
  <li><a href="#resources" id="toc-resources" class="nav-link" data-scroll-target="#resources">Resources</a></li>
  <li><a href="#pet-cats-uk" id="toc-pet-cats-uk" class="nav-link" data-scroll-target="#pet-cats-uk">Pet Cats UK</a></li>
  <li><a href="#example-data-visualizations" id="toc-example-data-visualizations" class="nav-link" data-scroll-target="#example-data-visualizations">Example Data Visualizations</a></li>
  </ul></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/UtrechtUniversity/programming-cafe/edit/main/site/posts/2023-10-05_data-visualization/index.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/UtrechtUniversity/programming-cafe/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li><li><a href="https://github.com/UtrechtUniversity/programming-cafe/blob/main/site/posts/2023-10-05_data-visualization/index.qmd" class="toc-action"><i class="bi empty"></i>View source</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Data Visualization</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Neha Moopen &amp; Jelle Treep </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">October 5, 2023</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><strong>Date:</strong> Thursday, 5th October 2023</li>
<li><strong>Time:</strong> 15:00-17:00</li>
<li><strong>Location:</strong> Living Lab, University Library (Utrecht Science Park)</li>
<li><strong>Presentation:</strong> Data Visualization</li>
<li><strong>Presenters:</strong> Neha Moopen &amp; Jelle Treep</li>
</ul>
</div>
</div>
<p>Borrowing from the <a href="https://github.com/rfordatascience/tidytuesday">#TidyTuesday</a> initiative, we’re analyzing data from <strong>Pet Cats UK</strong>!</p>
<p>In this edition of the Programming Cafe, we decided to try a coding challenge focused on data visualization that was accessible to all levels of experience.</p>
<section id="slides" class="level2">
<h2 class="anchored" data-anchor-id="slides">Slides</h2>
<iframe width="900" height="600" src="../../presentations/2023-10-05_data-visualization/slides/2023-10-05_data-visualization.html"></iframe>
</section>
<section id="exercises" class="level2">
<h2 class="anchored" data-anchor-id="exercises">Exercises</h2>
<p>Once you have gotten hold of the data, you can attempt to reproduce some of the example visualizations (beginner, intermediate, advanced) we’ve gathered below. You can use whatever programming language and packages/libraries you like and we encourage you to work in pairs/groups - so you can learn together!</p>
<section id="resources" class="level3">
<h3 class="anchored" data-anchor-id="resources">Resources</h3>
<section id="inspiration" class="level4">
<h4 class="anchored" data-anchor-id="inspiration">Inspiration</h4>
<p><a href="https://www.data-to-viz.com/">from Data to Viz</a></p>
</section>
<section id="r-packages" class="level4">
<h4 class="anchored" data-anchor-id="r-packages">R Packages</h4>
<ul>
<li>ggplot2</li>
<li>leaflet</li>
<li>move</li>
<li>moveVis</li>
</ul>
</section>
<section id="python-libraries" class="level4">
<h4 class="anchored" data-anchor-id="python-libraries">Python Libraries</h4>
<ul>
<li>matplotlib</li>
<li>geopandas</li>
<li>movingpandas</li>
<li>(pystac + rioxarray) (to read and visualize sentinel satellite data)</li>
</ul>
</section>
</section>
<section id="pet-cats-uk" class="level3">
<h3 class="anchored" data-anchor-id="pet-cats-uk">Pet Cats UK</h3>
<p><strong>source</strong>: <a href="https://github.com/rfordatascience/tidytuesday/blob/master/data/2023/2023-01-31/readme.md">https://github.com/rfordatascience/tidytuesday/blob/master/data/2023/2023-01-31/readme.md</a></p>
<p>The data comes from the <a href="https://www.datarepository.movebank.org/handle/10255/move.882">Movebank for Animal Tracking Data</a> via <a href="https://themarkup.org/data-is-plural/2023/01/25/from-jazz-solos-to-cats-on-the-move#:~:text=Giuseppe%20Sollazzo%5D-,Cats%20on%20the%20move,-.%20Between%202013">Data is Plural</a>.</p>
<blockquote class="blockquote">
<p>Between 2013 and 2017, Roland Kays et al.&nbsp;convinced hundreds of volunteers in the U.S., U.K., Australia, and New Zealand to strap GPS sensors on their pet cats. The aforelinked datasets include each cat’s characteristics (such as age, sex, neuter status, hunting habits) and time-stamped GPS pings.</p>
</blockquote>
<blockquote class="blockquote">
<p>When using this dataset, please cite the original article.</p>
</blockquote>
<blockquote class="blockquote">
<p>Kays R, Dunn RR, Parsons AW, Mcdonald B, Perkins T, Powers S, Shell L, McDonald JL, Cole H, Kikillus H, Woods L, Tindle H, Roetman P (2020) The small home ranges and large local ecological impacts of pet cats. Animal Conservation. <a href="http://dx.doi.org/10.1111/acv.12563">doi:10.1111/acv.12563</a></p>
</blockquote>
<blockquote class="blockquote">
<p>Additionally, please cite the Movebank data package:</p>
</blockquote>
<blockquote class="blockquote">
<p>McDonald JL, Cole H (2020) Data from: The small home ranges and large local ecological impacts of pet cats [United Kingdom]. Movebank Data Repository. <a href="http://dx.doi.org/10.5441/001/1.pf315732">doi:10.5441/001/1.pf315732</a></p>
</blockquote>
<p>Additional datasets for the <a href="https://www.datarepository.movebank.org/handle/10255/move.885">US</a>, <a href="https://www.datarepository.movebank.org/handle/10255/move.876">Australia</a>, and <a href="https://www.datarepository.movebank.org/handle/10255/move.879">New Zealand</a> are also available for download, but they are not included.</p>
<section id="get-the-data-here" class="level4">
<h4 class="anchored" data-anchor-id="get-the-data-here">Get the data here</h4>
<section id="r" class="level5">
<h5 class="anchored" data-anchor-id="r">R</h5>
<div class="sourceCode" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>cats_uk <span class="ot">&lt;-</span> readr<span class="sc">::</span><span class="fu">read_csv</span>(<span class="st">'https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2023/2023-01-31/cats_uk.csv'</span>)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>cats_uk_reference <span class="ot">&lt;-</span> readr<span class="sc">::</span><span class="fu">read_csv</span>(<span class="st">'https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2023/2023-01-31/cats_uk_reference.csv'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="python" class="level5">
<h5 class="anchored" data-anchor-id="python">Python</h5>
<div class="sourceCode" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>cats_uk <span class="op">=</span> pd.read_csv(<span class="st">'https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2023/2023-01-31/cats_uk.csv'</span>)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>cats_uk_reference <span class="op">=</span> pd.read_csv(<span class="st">'https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2023/2023-01-31/cats_uk_reference.csv'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="data-dictionary" class="level4">
<h4 class="anchored" data-anchor-id="data-dictionary">Data Dictionary</h4>
<p>Full dictionaries are available on <a href="https://www.datarepository.movebank.org/handle/10255/move.882">Movebank</a></p>
<section id="cats_uk.csv" class="level5">
<h5 class="anchored" data-anchor-id="cats_uk.csv"><code>cats_uk.csv</code></h5>
<table class="table">
<colgroup>
<col style="width: 41%">
<col style="width: 16%">
<col style="width: 41%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">variable</th>
<th style="text-align: left;">class</th>
<th style="text-align: left;">description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">tag_id</td>
<td style="text-align: left;">character</td>
<td style="text-align: left;">A unique identifier for the tag, provided by the data owner. If the data owner does not provide a tag ID, an internal Movebank tag identifier may sometimes be shown.</td>
</tr>
<tr class="even">
<td style="text-align: left;">event_id</td>
<td style="text-align: left;">double</td>
<td style="text-align: left;">An identifier for the set of values associated with each event, i.e.&nbsp;sensor measurement. A unique event ID is assigned to every time-location or other time-measurement record in Movebank. If multiple measurements are included within a single row of a data file, they will share an event ID. If users import the same sensor measurement to Movebank multiple times, a separate event ID will be assigned to each.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">visible</td>
<td style="text-align: left;">logical</td>
<td style="text-align: left;">Determines whether an event is visible on the Movebank map. Values are calculated automatically, with TRUE indicating the event has not been flagged as an outlier by <code>algorithm_marked_outlier</code>, <code>import_marked_outlier</code> or <code>manually_marked_outlier</code>, or that the user has overridden the results of these outlier attributes using <code>manually_marked_valid</code> = TRUE. Allowed values are TRUE or FALSE.</td>
</tr>
<tr class="even">
<td style="text-align: left;">timestamp</td>
<td style="text-align: left;">double</td>
<td style="text-align: left;">The date and time corresponding to a sensor measurement or an estimate derived from sensor measurements.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">location_long</td>
<td style="text-align: left;">double</td>
<td style="text-align: left;">The geographic longitude of the location as estimated by the sensor. Positive values are east of the Greenwich Meridian, negative values are west of it.</td>
</tr>
<tr class="even">
<td style="text-align: left;">location_lat</td>
<td style="text-align: left;">double</td>
<td style="text-align: left;">The geographic longitude of the location as estimated by the sensor. Positive values are east of the Greenwich Meridian, negative values are west of it.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ground_speed</td>
<td style="text-align: left;">double</td>
<td style="text-align: left;">The estimated ground speed provided by the sensor or calculated between consecutive locations. Units are reportedly m/s, which indicates that there is likely a problem with this data (either the units were reported erroneously or their is an issue with the sensor data).</td>
</tr>
<tr class="even">
<td style="text-align: left;">height_above_ellipsoid</td>
<td style="text-align: left;">double</td>
<td style="text-align: left;">The estimated height above the ellipsoid, typically estimated by the tag. Units: meters</td>
</tr>
<tr class="odd">
<td style="text-align: left;">algorithm_marked_outlier</td>
<td style="text-align: left;">logical</td>
<td style="text-align: left;">Identifies events marked as outliers using a user-selected filter algorithm in Movebank. Outliers have the value TRUE.</td>
</tr>
<tr class="even">
<td style="text-align: left;">manually_marked_outlier</td>
<td style="text-align: left;">logical</td>
<td style="text-align: left;">Identifies events flagged manually as outliers, typically using the Event Editor in Movebank, and may also include outliers identified using other methods. Outliers have the value TRUE.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">study_name</td>
<td style="text-align: left;">character</td>
<td style="text-align: left;">The name of the study in Movebank.</td>
</tr>
</tbody>
</table>
</section>
<section id="cats_uk_reference.csv" class="level5">
<h5 class="anchored" data-anchor-id="cats_uk_reference.csv"><code>cats_uk_reference.csv</code></h5>
<table class="table">
<colgroup>
<col style="width: 42%">
<col style="width: 14%">
<col style="width: 42%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">variable</th>
<th style="text-align: left;">class</th>
<th style="text-align: left;">description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">tag_id</td>
<td style="text-align: left;">character</td>
<td style="text-align: left;">A unique identifier for the tag, provided by the data owner. If the data owner does not provide a tag ID, an internal Movebank tag identifier may sometimes be shown.</td>
</tr>
<tr class="even">
<td style="text-align: left;">animal_id</td>
<td style="text-align: left;">character</td>
<td style="text-align: left;">An individual identifier for the animal, provided by the data owner. If the data owner does not provide an Animal ID, an internal Movebank animal identifier is sometimes shown.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">animal_taxon</td>
<td style="text-align: left;">character</td>
<td style="text-align: left;">The scientific name of the species on which the tag was deployed, as defined by the Integrated Taxonomic Information System (ITIS, www.itis.gov). If the species name can not be provided, this should be the lowest level taxonomic rank that can be determined and that is used in the ITIS taxonomy.</td>
</tr>
<tr class="even">
<td style="text-align: left;">deploy_on_date</td>
<td style="text-align: left;">double</td>
<td style="text-align: left;">The timestamp when the tag deployment started.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">deploy_off_date</td>
<td style="text-align: left;">double</td>
<td style="text-align: left;">The timestamp when the tag deployment ended.</td>
</tr>
<tr class="even">
<td style="text-align: left;">hunt</td>
<td style="text-align: left;">logical</td>
<td style="text-align: left;">Whether the animal was allowed to hunt.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">prey_p_month</td>
<td style="text-align: left;">double</td>
<td style="text-align: left;">Approximate number of prey caught by the animal per month.</td>
</tr>
<tr class="even">
<td style="text-align: left;">animal_reproductive_condition</td>
<td style="text-align: left;">character</td>
<td style="text-align: left;">The reproductive condition of the animal at the beginning of the deployment.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">animal_sex</td>
<td style="text-align: left;">character</td>
<td style="text-align: left;">The sex of the animal, as “m” or “f”.</td>
</tr>
<tr class="even">
<td style="text-align: left;">hrs_indoors</td>
<td style="text-align: left;">double</td>
<td style="text-align: left;">The average number of hours which the animal was indoors per day.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">n_cats</td>
<td style="text-align: left;">double</td>
<td style="text-align: left;">The number of cats in the house.</td>
</tr>
<tr class="even">
<td style="text-align: left;">food_dry</td>
<td style="text-align: left;">logical</td>
<td style="text-align: left;">Whether the cat was fed dry food.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">food_wet</td>
<td style="text-align: left;">logical</td>
<td style="text-align: left;">Whether the cat was fed wet food.</td>
</tr>
<tr class="even">
<td style="text-align: left;">food_other</td>
<td style="text-align: left;">logical</td>
<td style="text-align: left;">Whether the cat was fed other food.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">study_site</td>
<td style="text-align: left;">character</td>
<td style="text-align: left;">A location such as the deployment site or colony, or a location-related group such as the herd or pack name.</td>
</tr>
<tr class="even">
<td style="text-align: left;">age_years</td>
<td style="text-align: left;">double</td>
<td style="text-align: left;">The age of the animal at the beginning of the deployment, in years. “0” indicates that the animal was &lt; 1 year old.</td>
</tr>
</tbody>
</table>
</section>
</section>
</section>
<section id="example-data-visualizations" class="level3">
<h3 class="anchored" data-anchor-id="example-data-visualizations">Example Data Visualizations</h3>
<section id="beginner" class="level4">
<h4 class="anchored" data-anchor-id="beginner">Beginner</h4>
<p>Beginners can try:</p>
<ol type="1">
<li><p>Reading in the data</p></li>
<li><p>Plotting the number of cats per household</p></li>
</ol>
<p><img src="https://github.com/MattHondrakis/TidyTuesday/raw/main/2023/01-31-23/UK-Cats_files/figure-gfm/unnamed-chunk-2-1.png" class="img-fluid"></p>
<ol start="3" type="1">
<li>Plotting the number of prey caught per year</li>
</ol>
<p><img src="https://github.com/MattHondrakis/TidyTuesday/raw/main/2023/01-31-23/UK-Cats_files/figure-gfm/unnamed-chunk-3-1.png" class="img-fluid"></p>
<ol start="4" type="1">
<li>Plotting the number of hours spent indoors</li>
</ol>
<p><img src="https://github.com/MattHondrakis/TidyTuesday/raw/main/2023/01-31-23/UK-Cats_files/figure-gfm/unnamed-chunk-4-1.png" class="img-fluid"></p>
<ol start="5" type="1">
<li>Plotting the gender of the cats in the dataset</li>
</ol>
<p><img src="https://github.com/MattHondrakis/TidyTuesday/raw/main/2023/01-31-23/UK-Cats_files/figure-gfm/unnamed-chunk-5-1.png" class="img-fluid"></p>
<ul>
<li>Plotting the age of the cats</li>
</ul>
<p><img src="https://github.com/MattHondrakis/TidyTuesday/raw/main/2023/01-31-23/UK-Cats_files/figure-gfm/unnamed-chunk-6-1.png" class="img-fluid"></p>
<p>The above plots are referenced from: <a href="https://github.com/MattHondrakis/TidyTuesday/blob/main/2023/01-31-23/UK-Cats.md">https://github.com/MattHondrakis/TidyTuesday/blob/main/2023/01-31-23/UK-Cats.md</a>. The author has code snippets in R showing how they obtained the plots.</p>
<p>You can get tips on building bar plots in both R &amp; Python on the following page: <a href="https://www.data-to-viz.com/graph/histogram.html">https://www.data-to-viz.com/graph/histogram.html</a></p>
</section>
<section id="intermediate" class="level4">
<h4 class="anchored" data-anchor-id="intermediate">Intermediate</h4>
<p>Intermediate users have two options:</p>
<section id="creating-a-treemap-of-the-data." class="level5">
<h5 class="anchored" data-anchor-id="creating-a-treemap-of-the-data.">Creating a <code>treemap</code> of the data.</h5>
<p><img src="https://github.com/poncest/tidytuesday/raw/main/2023/Week_05/2023_05.png" class="img-fluid"></p>
<p>The above plot is referenced from: <a href="https://github.com/poncest/tidytuesday/tree/main/2023/Week_05">https://github.com/poncest/tidytuesday/tree/main/2023/Week_05</a>. The author has a script in R showing how they obtained the plot.</p>
<p>You can get tips on building treemaps in both R &amp; Python on the following page: <a href="https://www.data-to-viz.com/graph/treemap.html">https://www.data-to-viz.com/graph/treemap.html</a></p>
<p>Here is a human-readable breakdown of the steps, provided by ChatGPT:</p>
<ol type="1">
<li><strong>Load Packages &amp; Setup:</strong>
<ul>
<li>Load necessary software packages using the pacman library.</li>
<li>Set up the figure size and resolution for plotting.</li>
</ul></li>
<li><strong>Read in the Data:</strong>
<ul>
<li>Load data for the TidyTuesday challenge for 2023, week 05.</li>
<li>Clean and organize the data.</li>
</ul></li>
<li><strong>Examine the Data:</strong>
<ul>
<li>Use glimpse to see the structure of the cats_uk and cats_uk_reference datasets.</li>
<li>List unique values in the “tag_id” column of both datasets.</li>
<li>Combine the data using a left join operation and save memory.</li>
</ul></li>
<li><strong>Tidy the Data:</strong>
<ul>
<li>Remove outliers from the data.</li>
<li>Convert timestamp data to date format.</li>
<li>Group and summarize the data based on specific columns.</li>
<li>Clean and prepare the data for visualization.</li>
</ul></li>
<li><strong>Create Visualization:</strong>
<ul>
<li>Set up plot aesthetics including colors, titles, and captions.</li>
<li>Define fonts for text elements.</li>
<li>Build the main plot using the ggplot2 package with a treemap representation.</li>
<li>Customize plot labels, colors, and themes to make it visually appealing.</li>
</ul></li>
</ol>
</section>
<section id="map" class="level5">
<h5 class="anchored" data-anchor-id="map">Map</h5>
<p>Try to create a map (e.g.&nbsp;leaflet (R) or geopandas (python)) and plot a gps track on top of it</p>
<p><img src="https://raw.githubusercontent.com/UtrechtUniversity/programming-cafe/main/presentations/2023-10-05_dataviz/images/intermediate.png" class="img-fluid"></p>
</section>
</section>
<section id="advanced" class="level4">
<h4 class="anchored" data-anchor-id="advanced">Advanced</h4>
<p>Advanced users can try plotting the data onto a map and adding an animation element.</p>
<p><img src="https://github.com/fblpalmeira/cats_uk/blob/main/data/cats_uk_movevis.gif?raw=true" class="img-fluid"></p>
<p>The above plot is referenced from: <a href="https://github.com/fblpalmeira/cats_uk/blob/main/README.md">https://github.com/fblpalmeira/cats_uk/blob/main/README.md</a>. The author has a script in R showing how they obtained the plot.</p>
<p>You can get tips on building maps in both R &amp; Python on the following page: <a href="https://www.data-to-viz.com/graph/map.html">https://www.data-to-viz.com/graph/map.html</a></p>
<p>Here is a human-readable breakdown of the steps, provided by ChatGPT:</p>
<ol type="1">
<li><p><strong>Read in the Data</strong>: Begin by reading two CSV files from the internet. You can do this using software like R. The files you need are named cats_uk.csv and cats_uk_reference.csv.</p></li>
<li><p><strong>View the Data</strong>: After reading the data, use a tool or function (like the View function in R) to visually inspect the contents of both data files. This step helps you understand what’s in the data.</p></li>
<li><p><strong>Load Libraries</strong>: Make sure you have certain software libraries installed and loaded. These libraries include dplyr, move, moveVis, maptools, magrittr, and ggplot2. They provide tools for data manipulation and visualization.</p></li>
<li><p><strong>Combine and Filter Data</strong>: Use the dplyr library to combine the data from the two CSV files based on a common column called “tag_id.” After combining, filter the data to select only specific cat names like “Bear,” “Coco,” etc.</p></li>
<li><p><strong>Convert Timestamps</strong>: Convert the timestamps in the filtered data from a text format to a date-time format. This makes it easier to work with time-based data.</p></li>
<li><p><strong>Create a Move Object</strong>: Using the filtered and timestamp-converted data, create a “move object” that represents the movement of cats. This object specifies the columns for longitude, latitude, time, and track ID.</p></li>
<li><p><strong>Align Data</strong>: Adjust the timestamps in the move object to align them at a specific resolution, such as daily intervals. This step aggregates the data for each day.</p></li>
<li><p><strong>Generate Map Frames</strong>: Create map frames to visualize cat movements. You can customize these frames by adding things like labels, a north arrow, and a scale bar.</p></li>
<li><p><strong>Add Text</strong>: Include text on the map frames, such as a Twitter handle, at a specific location.</p></li>
<li><p><strong>Preview a Frame</strong>: Optionally, you can preview one of the map frames to see how it looks.</p></li>
<li><p><strong>Generate an Animation</strong>: Finally, use a function or tool (like animate_frames) to turn the map frames into an animated GIF. This GIF will show the movements of the selected cats over time.</p></li>
</ol>
</section>
</section>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>
<p>Will be updated to be more neat, the authors of the data and code and resources retain all their copyright - they are awesome!</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/utrechtuniversity\.github\.io\/programming-cafe\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/UtrechtUniversity/programming-cafe/edit/main/site/posts/2023-10-05_data-visualization/index.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/UtrechtUniversity/programming-cafe/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li><li><a href="https://github.com/UtrechtUniversity/programming-cafe/blob/main/site/posts/2023-10-05_data-visualization/index.qmd" class="toc-action"><i class="bi empty"></i>View source</a></li></ul></div></div></div></footer></body></html>